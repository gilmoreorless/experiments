<!DOCTYPE html>
<html>
<head>
    <title>Image tiles / Flip+Rotate</title>
    <link rel="stylesheet" href="../main.css">
</head>
<body class="centre">
    <p class="desc">Click tile to select. Double-click to move it into the empty space.<br>
        Use buttons to manipulate the selected tile. Complete the picture.</p>
    <div id="buttons" class="controls">
        <button id="rotate">Rotate</button>
        <button id="fliphoriz">Flip Horizontal</button>
        <button id="flipvert">Flip Vertical</button>
    </div>
    <canvas id="game"></canvas>
    <script src="../common/js/shimShiminy.js"></script>
    <script src="js/tilegame.js"></script>
    <script>
        var tiler = new Tiler('game', {
            width: 640,
            height: 480,
            rows: 3,
            cols: 3,
            move: 'dblclick',
            flip: true,
            rotate: true
        });
        tiler.setSrc('../common/img/catimov.jpg');

        var clickit = function (id, handler) {
            var elem = document.getElementById(id);
            elem.addEventListener('click', handler, false);
        };
        clickit('rotate', function () {
            tiler.rotateSelectedTile(Math.PI);
        });
        clickit('fliphoriz', function () {
            tiler.flipSelectedTile('h');
        });
        clickit('flipvert', function () {
            tiler.flipSelectedTile('v');
        });
    </script>
</body>
</html>